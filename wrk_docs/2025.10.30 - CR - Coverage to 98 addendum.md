Title: Coverage Addendum — Raising Lines to ≥98%
Date: 2025-10-30

Summary
- Goal raised from 95% → 98% line coverage (cargo-llvm-cov).
- Current snapshot after edge-case additions:
  - Lines: 97.11%
  - Regions: 94.56%
  - Functions: 97.03%

What changed in this pass
- Added focused integration tests to exercise hard-to-hit branches and multi-line “close + trailing” variants:
  - Rust/Python/C/C++/JavaScript/PHP/Pascal/Mustache/IPLAN/PowerShell/XML.
  - Error paths covered end-to-end: permission-denied file and symlink metadata failure (via MDKLOC_ENABLE_FAULTS).
  - Single-file scan path to exercise `metadata.is_file()` branch.
- Updated CI/readme to enforce ≥98% lines:
  - cargo llvm-cov --summary-only --ignore-filename-regex 'src/tests_included.rs$' --fail-under-lines 98

Files added
- tests/cli_regions_edges.rs — broad edge-case coverage across languages and I/O.
- tests/cli_regions_edges_more.rs — targeted multi-line close/trailing-code permutations.

Observed remaining gaps (representative)
- Mixed “close-then-reopen on next segment” patterns in C/JS, and Pascal nested close-with-trailing-code when already in a block.
- Some call-site lines around directory scanning (`scan_directory_impl` deep branches) still not counted as executed by llvm-cov.

Next steps to hit ≥98%
1) Add targeted permutations that explicitly start a block on one line and close on the next with trailing code for:
   - Rust (`in_block_comment` close + code), C (`s.trim().is_empty()` and “continue” paths), JS (in_jsx_comment close + trailing code), PHP (multi-line close + code).
2) Pascal: add two-line brace and parenthesis block endings with trailing code while already inside a comment to hit in-block close handlers.
3) Directory traversal: craft tree that triggers `metadata.is_file()` from the root call and symlink error branches in the same run, then assert stderr contains both error forms.
4) Re-run coverage and iterate until Lines ≥98%.

Notes
- We continue to exclude `src/tests_included.rs` from coverage to focus the denominator on production paths.
- Clippy/lints remain clean; no public interfaces changed.

